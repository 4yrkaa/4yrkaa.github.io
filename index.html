<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>NeoProx | Документация</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="shortcut icon" href="/favicon.ico" />

    <!-- Icon Font Stylesheet -->
    <link href="lib/fontawesome/all.min.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <script src="lib/highlight/highlight.min.js"></script>
    <link href="lib/highlight/styles/androidstudio.min.css" rel="stylesheet">
    <!-- Cloudflare Web Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "15e7f421b37443fe9825d7bba40aaad2"}'></script><!-- End Cloudflare Web Analytics -->
    <script src="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.js"></script>
    <link href="https://unpkg.com/highlightjs-copy/dist/highlightjs-copy.min.css" rel="stylesheet">
    <!-- Stylesheet -->
    <link href="css/style.css" rel="stylesheet">

</head>

<body data-spy="scroll" data-target=".navbar" data-offset="51">

    <!-- Sidebar Start -->
    <button class="btn btn-lg btn-primary btn-offcanvas" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSidebar" aria-controls="offcanvasSidebar">
        <i class="fa fa-bars"></i>
    </button>
    
    <div class="offcanvas offcanvas-start" data-bs-scroll="true" tabindex="-1" id="offcanvasSidebar"
        aria-labelledby="offcanvasSidebarLabel">
        <div class="offcanvas-header border-bottom">
            <h2 class="fw-bold mb-0"><i class="fa fa-code me-2"></i>NeoDocs</h2>
            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <div class="flex-shrink-0 bg-dark">
                <ul class="list-unstyled ps-0">
                    <li class="mb-1">
                        <a class="btn w-100 text-start" href="#section-end">Введение</a>
                    </li>
                    <li class="mb-1">
                        <button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse"
                            data-bs-target="#home-collapse" aria-expanded="false">
                            Эвенты
                        </button>
                        <div class="collapse" id="home-collapse">
                            <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                                <li><a href="#events-1-1" class="text-body rounded">onChatMessage</a></li>
                                <li><a href="#events-1-2" class="text-body rounded">onTitleMessage</a></li>
                                <li><a href="#events-1-3" class="text-body rounded">onPlayerList</a></li>
                                <li><a href="#events-1-4" class="text-body rounded">onJoin</a></li>
                                <li><a href="#events-1-5" class="text-body rounded">onWindowItems</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="mb-1">
                        <button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse"
                                data-bs-target="#collapse-2" aria-expanded="false">
                            Методы
                        </button>
                        <div class="collapse" id="collapse-2">
                            <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                                <li><a href="#section-3-1" class="text-body rounded">sendChatMessage</a></li>
                                <li><a href="#section-3-2" class="text-body rounded">Передвижение</a></li>
                                <li><a href="#section-3-3" class="text-body rounded">Управление ботом</a></li>
                                <li><a href="#section-3-4" class="text-body rounded">Параметры</a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="mb-1">
                        <button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse"
                            data-bs-target="#collapse-3" aria-expanded="false">
                            Примеры
                        </button>
                        <div class="collapse" id="collapse-3">
                            <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                                <li><a href="#section-2-1" class="text-body rounded">Обход чат капчи</a></li>
                                <li><a href="#section-2-2" class="text-body rounded">Обход математической title капчи</a></li>
                                <li><a href="#section-2-3" class="text-body rounded">Обход чат клик капчи</a></li>
                                <li><a href="#section-2-4" class="text-body rounded">Обход шифт капчи</a></li>
                                <li><a href="#section-2-5" class="text-body rounded">Обход зелёного стекла</a></li>
                                <li><a href="#section-2-6" class="text-body rounded">Обход математической капчи в чате</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!-- Sidebar End -->

    <!-- Hero Start -->
    <div class="container-fluid bg-dark py-5 mb-5">
        <div class="row py-5">
            <div class="col-12 text-center">
                <h1 class="display-1 fw-bold text-white mb-4"><i class="fa fa-code me-2"></i>NeoDocs</h1>
                <h3 class="fw-bold text-white mb-3">Wiki для скриптинга</h3>
                <h5 class="fw-bold text-white mb-3">Rhino(JavaScript)</h5>
            </div>
        </div>
    </div>
    <!-- Hero End -->
    <div class="container py-5">
        <h1 id="section-end" class="fw-bold display-4">Введение</h1>
        <p>Все скрипты пишутся на Rhino(JavaScript), загрузка скриптов выполняется через <a href="https://pastebin.com" target="_blank">pastebin.com</a> </p>

        <p class="text-muted" style="font-size: 8px"> <button id="changeCursor" class="btn">0</button></p>
    </div>

    <!-- Section Start -->
    <div class="container py-5">
        <h1 class="fw-bold display-4">Эвенты</h1>
        <p>Эвенты выполняются при определённых пакетах полученных от сервера</p>
        <h2 id="events-1-1" class="fw-bold mt-5">onChatMessage</h2>
        <pre><code class="language-js">
/*
    Вызывается при получении сообщения ботом

    @param bot             Объект бота
    @param component       TextComponent сообщения

*/
function onChatMessage(bot, component) {
    var strMessage = component.getString(); //Получения сообщения в виде строки (без цветов)
}
        </code></pre>
        <h2 id="events-1-2" class="fw-bold mt-5">onTitleMessage</h2>
        <pre><code class="language-js">
/*
    Вызывается при получении Title сообщения ботом

    @param bot             Объект бота
    @param component       TextComponent сообщения
    @param type            Тип сообщения ("TITLE", "SUBTITLE", "ACTIONBAR", "TIMES", "RESET")

*/
function onTitleMessage(bot, component, type) {
    var strMessage = component.getString();
}
        </code></pre>
        <h2 id="events-1-3" class="fw-bold mt-5">onPlayerList</h2>
        <div class="callout callout-primary rounded">
            <h5 class="fw-bold text-primary"><i class="fa fa-info-circle me-2"></i>Заметка</h5>
            Этот вызов может работать не стабильно.
        </div>
        <pre><code class="language-js">
/*
    Вызывается при обновлении верхней и нижней части таба

    @param bot             Объект бота
    @param headerComponent TextComponent верхнего сообщения
    @param footerComponent TextComponent нижнего сообщения

*/
function onPlayerList(bot, headerComponent, footerComponent) {
    var header = headerComponent.getString();
    var footer = footerComponent.getString();
}
        </code></pre>
        <h2 id="events-1-4" class="fw-bold">onJoin</h2>
        <pre><code class="language-js">
/*
    Вызывается при загрузке мира бота

    @param bot             Объект бота
    @param gameMode        Режим игры бота ("survival", "creative", "adventure", "spectator")

*/
function onJoin(bot, gameMode) {
}
        </code></pre>
        <h2 id="events-1-5" class="fw-bold">onWindowItems</h2>
        <pre><code class="language-js">
/*
    Вызывается при появлении вещей в инвентаре/сундуке

    @param bot             Объект бота

*/
function onWindowItems(bot, items, windowId) {
}
        </code></pre>
    </div>
    <!-- Section End -->
    <!-- Section Start -->
    <div class="container py-5">
        <h1 class="fw-bold display-4">Методы</h1>
        <h2 id="section-3-1" class="fw-bold mt-5">sendChatMessage</h2>
        <pre><code class="language-js">
/*
    Отправляет сообщение от имени бота

    @String message Строка с текстом

*/

bot.getPlayer().sendChatMessage(message);
        </code></pre>
        <h2 id="section-3-2" class="fw-bold mt-5">Передвижение</h2>
        <pre><code class="language-js">
/*
    Управляет ботом

    @Boolean true = кнопка нажата; false = отпущена
*/

bot.getKeyboard().setForwardPressed(true); // Движение вперёд
bot.getKeyboard().setBackPressed(true);    // Движение назад
bot.getKeyboard().setLeftPressed(true);    // Движение влево
bot.getKeyboard().setRightPressed(true);   // Движение вправо
bot.getKeyboard().setJumpPressed(true);    // Прыжок
bot.getKeyboard().setSneakPressed(true);   // Шифт
        </code></pre>
        <h2 id="section-3-3" class="fw-bold mt-5">Управление ботом</h2>
        <pre><code class="language-js">
/*
    Управляет ботом

    @int slot
    @int key   0/1 - лкм/пкм
*/

bot.getController().windowClick(slot, key); // Клик по слоту в инвентаре/меню
bot.getPlayer().closeScreen(); // Закрытие инвентаря/меню
bot.useItem();                 // пкм по предмету в руке
bot.changeSlot(slot);          // установить слот в хотбаре
bot.getNickname();             // (возвращает String) ник бота

        </code></pre>
        <h2 id="section-3-4" class="fw-bold mt-5">Параметры</h2>
        <pre><code class="language-js">
bot.getParameters().setParameter("key", "value"); //сохранение параметра, value может быть String/Integer/Boolean/Object
bot.getParameters().getInteger("key"); //получить параметр как Integer
bot.getParameters().getBoolean("key"); //получить параметр как Boolean
bot.getParameters().getString("key"); //получить параметр как String
bot.getParameters().get("key"); //получить параметр как Object
bot.getParameters().getOrDefault("key", "default"); //получить параметр как Object, default - значение если параметр не найден
        </code></pre>
    </div>
    <!-- Section End -->

    <!-- Section Start -->
    <div class="container py-5">
        <h1 class="fw-bold display-4">Примеры</h1>
        <h2 id="section-2-1" class="fw-bold mt-5">Обход чат капчи</h2>
        <img class="img-fluid mb-4" src="img/chatcap.png" alt="Image">
        <pre><code class="language-js">
            function onChatMessage(bot, component) {
    var message = component.getString();
    if(message.contains("Введите капчу: ")) {
        bot.getPlayer().sendChatMessage(message.split("капчу: ")[1]);
    }
}
        </code></pre>
        <h2 id="section-2-2" class="fw-bold mt-5">Обход математической title капчи</h2>
        <img class="img-fluid mb-4" src="img/titlemath.png" alt="Image">
        <pre><code class="language-js">
function onTitleMessage(bot, component, type) {
    if(type == "SUBTITLE") {
        var message = component.getString();
        if(message.contains("=")) {
            bot.getPlayer().sendChatMessage(math(message));
        } else {
            bot.getPlayer().sendChatMessage(message);
        }
    }
}


function math(string) {
    if(string.contains("+")) {
        var parts = string.split("+");
        return parseInt(parts[0]) + parseInt(parts[1]);
    } else if(string.contains("-")) {
        var parts = string.split("-");
        return parseInt(parts[0]) - parseInt(parts[1]);
    }
    return 0;
}
        </code></pre>
        <h2 id="section-2-3" class="fw-bold mt-5">Обход чат клик капчи</h2>
        <img class="img-fluid mb-4" src="img/chatclick.png" alt="Image">
        <pre><code class="language-js">
function onChatMessage(bot, component) {
    var siblings = component.getSiblings();

    if(siblings.size() > 0) {
        for (var i = 0; i < siblings.size(); i++) {
            var clickEvent = siblings.get(i).getStyle().getClickEvent();
            if(clickEvent != null && clickEvent.getAction().getCanonicalName().equals("run_command")) {
                bot.getPlayer().sendChatMessage(clickEvent.getValue());
                break;
            }
        }
    } else {
        var clickEvent = component.getStyle().getClickEvent();
        if(clickEvent != null && clickEvent.getAction().getCanonicalName().equals("run_command")) {
            bot.getPlayer().sendChatMessage(clickEvent.getValue());
        }
    }
}
        </code></pre>
        <h2 id="section-2-4" class="fw-bold mt-5">Обход шифт капчи</h2>
        <img class="img-fluid mb-4" src="img/shiftcap.png" alt="Image">
        <pre><code class="language-js">
function onChatMessage(bot, component) {
    var message = component.getString().toLowerCase();
    if(message.contains("shift") || message.contains("шифт")) {
        bot.getKeyboard().setSneakPressed(true)
    } else {
        bot.getKeyboard().setSneakPressed(false)
    }
}
        </code></pre>
        <h2 id="section-2-5" class="fw-bold mt-5">Обход зелёного стекла</h2>
        <img class="img-fluid mb-4" src="img/invclick.png" alt="Image">
        <pre><code class="language-js">
function onWindowItems(bot, items, windowId) {
    for(var i = 0; i < items.size(); i++) {
        if(items.get(i).getTranslationKey().contains("lime")) {
            bot.getController().windowClick(i, 0);
        }
    }
}
        </code></pre>
        <h2 id="section-2-6" class="fw-bold mt-5">Обход математической капчи в чате</h2>
        <img class="img-fluid mb-4" src="img/chatmath.png" alt="Image">
        <details>
            <summary>Показать/скрыть код</summary>
        <pre><code class="language-js">
var lastMessages = [];
var needSolveMath = false;
var maxStoredMessages = 15;

function onChatMessage(bot, component) {
    var message = component.getString();

    lastMessages.push(message);
    if(lastMessages.length > maxStoredMessages) {
        lastMessages.shift();
    }

    if(message.contains("Введите ответ на пример в чат числом")) {
        needSolveMath = true;
        solveMathFromPreviousMessages(bot);
        return;
    }

    if(needSolveMath) {
        handleClickCaptcha(bot, component);
        needSolveMath = false;
    }
}

function solveMathFromPreviousMessages(bot) {
    var numbers = [];
    var operator = "";

    for(var i = lastMessages.length - 7; i < lastMessages.length - 1; i++) {
        if(i >= 0) {
            var msg = lastMessages[i];
            var cleanMsg = msg.replace(/[^0-9+\-*/\s]/g, '').trim();

            if(cleanMsg.length > 0) {
                for(var j = 0; j < cleanMsg.length; j++) {
                    var char = cleanMsg.charAt(j);
                    if(char >= '0' && char <= '9') {
                        var num = "";
                        while(j < cleanMsg.length && cleanMsg.charAt(j) >= '0' && cleanMsg.charAt(j) <= '9') {
                            num += cleanMsg.charAt(j);
                            j++;
                        }
                        if(num.length > 0) {
                            numbers.push(parseInt(num));
                        }
                        j--;
                    } else if(char == '+' || char == '-' || char == '*' || char == '/') {
                        operator = char;
                    }
                }
            }
        }
    }

    if(numbers.length >= 2 && operator != "") {
        var result = calculateResult(numbers[0], numbers[1], operator);
        bot.getPlayer().sendChatMessage(result.toString());
    }
}

function calculateResult(num1, num2, op) {
    if(op == "+") return num1 + num2;
    if(op == "-") return num1 - num2;
    if(op == "*") return num1 * num2;
    if(op == "/") return Math.floor(num1 / num2);
    return 0;
}

function handleClickCaptcha(bot, component) {
    var siblings = component.getSiblings();

    if(siblings.size() > 0) {
        for (var i = 0; i < siblings.size(); i++) {
            var clickEvent = siblings.get(i).getStyle().getClickEvent();
            if(clickEvent != null && clickEvent.getAction().getCanonicalName().equals("run_command")) {
                bot.getPlayer().sendChatMessage(clickEvent.getValue());
                break;
            }
        }
    } else {
        var clickEvent = component.getStyle().getClickEvent();
        if(clickEvent != null && clickEvent.getAction().getCanonicalName().equals("run_command")) {
            bot.getPlayer().sendChatMessage(clickEvent.getValue());
        }
    }
}
// code by Wickounds
        </code></pre>
        </details>
    </div>
    <!-- Section End -->


    <!-- Back to Top -->
    <a href="#" class="btn btn-lg btn-primary rounded back-to-top"><i class="fa fa-arrow-up"></i></a>


    <!-- JavaScript Libraries -->
    <script src="lib/jquery/jquery-3.4.1.min.js"></script>
    <script src="lib/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
<!--    <script src="lib/highlight/highlight.min.js"></script>-->
    <script>hljs.addPlugin(
        new CopyButtonPlugin({
            lang: "ru", // The copy button now says "Copiado!" when selected.
        })
    );
    hljs.highlightAll();
    </script>
    <!-- Javascript -->
    <script src="js/main.js"></script>
</body>


</html>

